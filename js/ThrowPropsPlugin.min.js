/*!
 * VERSION: 0.9.11
 * DATE: 2016-05-24
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2016, GreenSock. All rights reserved.
 * ThrowPropsPlugin is a Club GreenSock membership benefit; You must have a valid membership to use
 * this code without violating the terms of use. Visit http://greensock.com/club/ to sign up or get more details.
 * This work is subject to the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push((function(){"use strict";_gsScope._gsDefine("plugins.ThrowPropsPlugin",["plugins.TweenPlugin","TweenLite","easing.Ease","utils.VelocityTracker"],(function(e,t,r,n){var o=function(t,r){e.call(this,"throwProps"),this._overwriteProps.length=0},i=999999999999999,s=1e-10,a=_gsScope._gsDefine.globals,c=!1,u={x:1,y:1,z:2,scale:1,scaleX:1,scaleY:1,rotation:1,rotationZ:1,rotationX:2,rotationY:2,skewX:1,skewY:1,xPercent:1,yPercent:1},p=function(e,t,r,n){for(var o=t.length,s=0,a=i,c,u;--o>-1;)(u=(c=t[o])-e)<0&&(u=-u),u<a&&c>=n&&c<=r&&(s=o,a=u);return t[s]},l=function(e,t,r,n){if("auto"===e.end)return e;r=isNaN(r)?i:r,n=isNaN(n)?-i:n;var o="function"==typeof e.end?e.end(t):e.end instanceof Array?p(t,e.end,r,n):Number(e.end);return o>r?o=r:o<n&&(o=n),{max:o,min:o,unitFactor:e.unitFactor}},f=function(e,t,r){for(var n in t)void 0===e[n]&&n!==r&&(e[n]=t[n]);return e},v=o.calculateChange=function(e,n,o,i){var s;return null==i&&(i=.05),o*i*e/(n instanceof r?n:n?new r(n):t.defaultEase).getRatio(i)},g=o.calculateDuration=function(e,n,o,i,s){s=s||.05;var a=i instanceof r?i:i?new r(i):t.defaultEase;return Math.abs((n-e)*a.getRatio(s)/o/s)},h=o.calculateTweenDuration=function(e,i,a,u,p,h){if("string"==typeof e&&(e=t.selector(e)),!e)return 0;null==a&&(a=10),null==u&&(u=.2),null==p&&(p=1),e.length&&(e=e[0]||e);var _=0,d=9999999999,y=i.throwProps||i,m=i.ease instanceof r?i.ease:i.ease?new r(i.ease):t.defaultEase,P=isNaN(y.checkpoint)?.05:Number(y.checkpoint),w=isNaN(y.resistance)?o.defaultResistance:Number(y.resistance),x,k,T,b,N,S,V,O,R,B;for(x in y)"resistance"!==x&&"checkpoint"!==x&&"preventOvershoot"!==x&&("object"!=typeof(k=y[x])&&((R=R||n.getByTarget(e))&&R.isTrackingProp(x)?k="number"==typeof k?{velocity:k}:{velocity:R.getVelocity(x)}:T=(b=Number(k)||0)*w>0?b/w:b/-w),"object"==typeof k&&(T=(b=void 0!==k.velocity&&"number"==typeof k.velocity?Number(k.velocity)||0:(R=R||n.getByTarget(e))&&R.isTrackingProp(x)?R.getVelocity(x):0)*(N=isNaN(k.resistance)?w:Number(k.resistance))>0?b/N:b/-N,V=(S="function"==typeof e[x]?e[x.indexOf("set")||"function"!=typeof e["get"+x.substr(3)]?x:"get"+x.substr(3)]():e[x]||0)+v(b,m,T,P),void 0!==k.end&&(k=l(k,V,k.max,k.min),(h||c)&&(y[x]=f(k,y[x],"end"))),void 0!==k.max&&V>Number(k.max)+s?(B=k.unitFactor||o.defaultUnitFactors[x]||1,(O=S>k.max&&k.min!==k.max||b*B>-15&&b*B<45?u+.1*(a-u):g(S,k.max,b,m,P))+p<d&&(d=O+p)):void 0!==k.min&&V<Number(k.min)-s&&(B=k.unitFactor||o.defaultUnitFactors[x]||1,(O=S<k.min&&k.min!==k.max||b*B>-45&&b*B<15?u+.1*(a-u):g(S,k.min,b,m,P))+p<d&&(d=O+p)),O>_&&(_=O)),T>_&&(_=T));return _>d&&(_=d),_>a?a:_<u?u:_},_=o.prototype=new e("throwProps"),d,y,m,P;return _.constructor=o,o.version="0.9.11",o.API=2,o._autoCSS=!0,o.defaultResistance=100,o.defaultUnitFactors={time:1e3,totalTime:1e3},o.track=function(e,t,r){return n.track(e,t,r)},o.untrack=function(e,t){n.untrack(e,t)},o.isTracking=function(e,t){return n.isTracking(e,t)},o.getVelocity=function(e,t){var r=n.getByTarget(e);return r?r.getVelocity(t):NaN},o._cssRegister=function(){var e=a.com.greensock.plugins.CSSPlugin;if(e){var t=e._internals,r=t._parseToProxy,i=t._setPluginRatio,s=t.CSSPropTween;t._registerComplexSpecialProp("throwProps",{parser:function(e,t,a,c,p,l){l=new o;var f={},v={},g={},h={},_={},m={},P,w,x,k,T;for(x in y={},t)"resistance"!==x&&"preventOvershoot"!==x&&("object"==typeof(w=t[x])?(void 0!==w.velocity&&"number"==typeof w.velocity?f[x]=Number(w.velocity)||0:(T=T||n.getByTarget(e),f[x]=T&&T.isTrackingProp(x)?T.getVelocity(x):0),void 0!==w.end&&(h[x]=w.end),void 0!==w.min&&(v[x]=w.min),void 0!==w.max&&(g[x]=w.max),w.preventOvershoot&&(m[x]=!0),void 0!==w.resistance&&(P=!0,_[x]=w.resistance)):"number"==typeof w?f[x]=w:(T=T||n.getByTarget(e))&&T.isTrackingProp(x)?f[x]=T.getVelocity(x):f[x]=w||0,u[x]&&c._enableTransforms(2===u[x]));for(x in k=r(e,f,c,p,l),d=k.proxy,f=k.end,d)y[x]={velocity:f[x],min:v[x],max:g[x],end:h[x],resistance:_[x],preventOvershoot:m[x]};return null!=t.resistance&&(y.resistance=t.resistance),t.preventOvershoot&&(y.preventOvershoot=!0),p=new s(e,"throwProps",0,0,k.pt,2),c._overwriteProps.pop(),p.plugin=l,p.setRatio=i,p.data=k,l._onInitTween(d,y,c._tween),p}})}},o.to=function(e,r,n,o,i){r.throwProps||(r={throwProps:r}),0===i&&(r.throwProps.preventOvershoot=!0),c=!0;var s=new t(e,o||1,r);return s.render(0,!0,!0),s.vars.css?(s.duration(h(d,{throwProps:y,ease:r.ease},n,o,i)),s._delay&&!s.vars.immediateRender?s.invalidate():m._onInitTween(d,P,s),c=!1,s):(s.kill(),s=new t(e,h(e,r,n,o,i),r),c=!1,s)},_._onInitTween=function(e,t,r){this.target=e,this._props=[],m=this,P=t;var o=r._ease,i=isNaN(t.checkpoint)?.05:Number(t.checkpoint),s=r._duration,a=t.preventOvershoot,u=0,p,g,h,_,d,y,w,x,k;for(p in t)if("resistance"!==p&&"checkpoint"!==p&&"preventOvershoot"!==p){if("number"==typeof(g=t[p]))d=Number(g)||0;else if("object"!=typeof g||isNaN(g.velocity)){if(!(k=k||n.getByTarget(e))||!k.isTrackingProp(p))throw"ERROR: No velocity was defined in the throwProps tween of "+e+" property: "+p;d=k.getVelocity(p)}else d=Number(g.velocity);y=v(d,o,s,i),x=0,h=(_="function"==typeof e[p])?e[p.indexOf("set")||"function"!=typeof e["get"+p.substr(3)]?p:"get"+p.substr(3)]():e[p],"object"==typeof g&&(w=h+y,void 0!==g.end&&(g=l(g,w,g.max,g.min),c&&(t[p]=f(g,t[p],"end"))),void 0!==g.max&&Number(g.max)<w?a||g.preventOvershoot?y=g.max-h:x=g.max-h-y:void 0!==g.min&&Number(g.min)>w&&(a||g.preventOvershoot?y=g.min-h:x=g.min-h-y)),this._overwriteProps[u]=p,this._props[u++]={p:p,s:h,c1:y,c2:x,f:_,r:!1}}return!0},_._kill=function(t){for(var r=this._props.length;--r>-1;)null!=t[this._props[r].p]&&this._props.splice(r,1);return e.prototype._kill.call(this,t)},_._roundProps=function(e,t){for(var r=this._props,n=r.length;--n>-1;)(e[r[n].p]||e.throwProps)&&(r[n].r=t)},_.setRatio=function(e){for(var t=this._props.length,r,n;--t>-1;)n=(r=this._props[t]).s+r.c1*e+r.c2*e*e,r.r?n=Math.round(n):1===e&&(n=(1e4*n+(n<0?-.5:.5)|0)/1e4),r.f?this.target[r.p](n):this.target[r.p]=n},e.activate([o]),o}),!0),_gsScope._gsDefine("utils.VelocityTracker",["TweenLite"],(function(e){var t,r,n,o,i=/([A-Z])/g,s={},a={x:1,y:1,z:2,scale:1,scaleX:1,scaleY:1,rotation:1,rotationZ:1,rotationX:2,rotationY:2,skewX:1,skewY:1,xPercent:1,yPercent:1},c=document.defaultView?document.defaultView.getComputedStyle:function(){},u=function(e,t,r){var n=(e._gsTransform||s)[t];return n||0===n?n:(e.style[t]?n=e.style[t]:(r=r||c(e,null))?n=r[t]||r.getPropertyValue(t)||r.getPropertyValue(t.replace(i,"-$1").toLowerCase()):e.currentStyle&&(n=e.currentStyle[t]),parseFloat(n)||0)},p=e.ticker,l=function(e,t,r){this.p=e,this.f=t,this.v1=this.v2=0,this.t1=this.t2=p.time,this.css=!1,this.type="",this._prev=null,r&&(this._next=r,r._prev=this)},f=function(){var e=t,r=p.time,i,s;if(r-n>=.03)for(o=n,n=r;e;){for(s=e._firstVP;s;)((i=s.css?u(e.target,s.p):s.f?e.target[s.p]():e.target[s.p])!==s.v1||r-s.t1>.15)&&(s.v2=s.v1,s.v1=i,s.t2=s.t1,s.t1=r),s=s._next;e=e._next}},v=function(e){this._lookup={},this.target=e,this.elem=!(!e.style||!e.nodeType),r||(p.addEventListener("tick",f,null,!1,-100),n=o=p.time,r=!0),t&&(this._next=t,t._prev=this),t=this},g=v.getByTarget=function(e){for(var r=t;r;){if(r.target===e)return r;r=r._next}},h=v.prototype;return h.addProp=function(t,r){if(!this._lookup[t]){var n=this.target,o="function"==typeof n[t],i=o?this._altProp(t):t,s=this._firstVP;this._firstVP=this._lookup[t]=this._lookup[i]=s=new l(i!==t&&0===t.indexOf("set")?i:t,o,s),s.css=this.elem&&(void 0!==this.target.style[s.p]||a[s.p]),s.css&&a[s.p]&&!n._gsTransform&&e.set(n,{x:"+=0",overwrite:!1}),s.type=r||s.css&&0===t.indexOf("rotation")?"deg":"",s.v1=s.v2=s.css?u(n,s.p):o?n[s.p]():n[s.p]}},h.removeProp=function(e){var t=this._lookup[e];t&&(t._prev?t._prev._next=t._next:t===this._firstVP&&(this._firstVP=t._next),t._next&&(t._next._prev=t._prev),this._lookup[e]=0,t.f&&(this._lookup[this._altProp(e)]=0))},h.isTrackingProp=function(e){return this._lookup[e]instanceof l},h.getVelocity=function(e){var t=this._lookup[e],r=this.target,n,o,i;if(!t)throw"The velocity of "+e+" is not being tracked.";return o=(n=t.css?u(r,t.p):t.f?r[t.p]():r[t.p])-t.v2,"rad"!==t.type&&"deg"!==t.type||(o%=i="rad"===t.type?2*Math.PI:360)!==o%(i/2)&&(o=o<0?o+i:o-i),o/(p.time-t.t2)},h._altProp=function(e){var t=e.substr(0,3),r=("get"===t?"set":"set"===t?"get":t)+e.substr(3);return"function"==typeof this.target[r]?r:e},v.getByTarget=function(r){var n=t;for("string"==typeof r&&(r=e.selector(r)),r.length&&r!==window&&r[0]&&r[0].style&&!r.nodeType&&(r=r[0]);n;){if(n.target===r)return n;n=n._next}},v.track=function(e,t,r){var n=g(e),o=t.split(","),i=o.length;for(r=(r||"").split(","),n||(n=new v(e));--i>-1;)n.addProp(o[i],r[i]||r[0]);return n},v.untrack=function(e,r){var n=g(e),o=(r||"").split(","),i=o.length;if(n){for(;--i>-1;)n.removeProp(o[i]);n._firstVP&&r||(n._prev?n._prev._next=n._next:n===t&&(t=n._next),n._next&&(n._next._prev=n._prev))}},v.isTracking=function(e,t){var r=g(e);return!!r&&(!(t||!r._firstVP)||r.isTrackingProp(t))},v}),!0)})),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(e){"use strict";var t=function(){return(_gsScope.GreenSockGlobals||_gsScope)[e]};"function"==typeof define&&define.amd?define(["../TweenLite"],t):"undefined"!=typeof module&&module.exports&&(require("../TweenLite.js"),module.exports=t())}("ThrowPropsPlugin");